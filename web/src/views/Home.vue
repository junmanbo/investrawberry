<script setup>
import { storeToRefs } from 'pinia';
import { useAuthStore } from '@/stores';
import { ref } from 'vue';

const authStore = useAuthStore();
const { user } = storeToRefs(authStore);

const message = ref('');
const showMenu = ref(false);
const showMessage = () => {
    message.value = 'ì•Œë¦¼ ë©”ì‹œì§€ì…ë‹ˆë‹¤!';
    showMenu.value = true;
};
const hideMenu = () => {
    showMenu.value = false;
};
</script>

<template>
    <div v-if="user">
        <div class="greeting">
            <button class="greeting-icon" @click="showMessage">
                <div class="greeting-icon-bg"></div>
                <i class="fas fa-bell"></i>
            </button>
            <div class="greeting-alert"></div>
            <div class="greeting-text"> {{user.token_type}}ë‹˜, ì•ˆë…•í•˜ì„¸ìš”!</div>
            <div class="greeting-subtext">ì˜¤ëŠ˜ë„ ì¦ê±°ìš´ íˆ¬ìí•˜ì„¸ìš” ğŸ˜‰</div>
        </div>
        <div v-if="showMenu" @click="hideMenu" class="menu">
            {{ message }}
        </div>
        <div class="total-assets">
            <div class="total-assets-label">ì´ ìì‚°</div>
            <div class="total-assets-value">â‚© 10,627,992.28</div>
        </div>
    </div>
</template>

<style>
@import '@/assets/home.css';
</style>
